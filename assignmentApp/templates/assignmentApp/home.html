{%extends 'assignmentApp/base.html'%}

{%block content%}

    <nav class="level pt-2">
        <div class="level-item has-text-centered">
            <div>
              <p class="heading"><svg xmlns="http://www.w3.org/2000/svg" width="70" height="70" fill="currentColor" class="bi bi-file-text" viewBox="0 0 16 16">
                <path d="M5 4a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zM5 8a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm0 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1H5z"/>
                <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z"/>
              </svg></p>
              <p class="title has-text-light">Count: 453</p>
            </div>
          </div>
    </nav>

  <div class="columns">
    <div class="column" style="height: 100%;">
        <section class="section pt-0">
            <form id="upload_form" method="POST" enctype="multipart/form-data">
            {%csrf_token%}
            <div class="container is-fluid">
              <h2 class="has-text-white mb-1">2) Upload file containing your text.
                (preferably .txt file)
              </h2>
                <div class="field">
                  <div id="file-js-example" class="file has-name is-dark">
                    <label class="file-label">
                      <input class="file-input" type="file" name="uploaded_file" id="uploaded_file">
                      <span class="file-cta">
                        <span class="file-icon">
                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-upload" viewBox="0 0 16 16">
                            <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                            <path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"/>
                          </svg>
                        </span>
                        <span class="file-label">
                          Choose a fileâ€¦
                        </span>
                      </span>
                      <span class="file-name has-text-white ml-2">
                        No file uploaded
                      </span>
                    </label>
                  </div>
                  
                  <script>
                    const fileInput = document.querySelector('#file-js-example input[type=file]');
                    fileInput.onchange = () => {
                      if (fileInput.files.length > 0) {
                        const fileName = document.querySelector('#file-js-example .file-name');
                        fileName.textContent = fileInput.files[0].name;
                      }
                    }
                  </script>
                        <br/>
                        <h2 class="has-text-white mb-1">3) Confirm and Upload</h2>
                        <div class="field is-grouped">
                            <div class="control">
                                <input class="button is-link" type="submit" value="Make my Assignment">
                            </div>
                            <div class="control">
                              <button class="button is-link is-light">Discard</button>
                            </div>
                          </div>
                  </div>
                <div class="field">
                    
                </div>
            </div>
        </form>
        <div class="container mt-5 is-fluid">
          <h2 class="mt-2 has-text-white">
            {{ file_content }}
          </h2>
        </div>
        </section>
    </div>
    <div class="column" style="height: 100%;">
        <section class="section pt-0">
            <div class="container is-fluid has-text-white">
                Your generated assignment will appear here.
            </div>
        </section>
    </div>
  </div>

          
{%endblock%}